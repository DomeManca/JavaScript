<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Task</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1><a href="1.html">Add Task</a></h1>
  <form id="add-task-form">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required>

    <label for="description">Description:</label>
    <textarea id="description" name="description"></textarea>

    <label for="due-date">Due Date:</label>
    <input type="datetime-local" id="due-date" name="due-date" required>

    <button type="submit">Add Task</button>
  </form>

  <script>
    class Task {
      constructor(title, description, dueDate) {
        this.title = title;
        this.description = description || '';
        this.dueDate = dueDate || '';
      }

      formatDate() {
        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

        const year = this.dueDate.getFullYear();
        const month = months[this.dueDate.getMonth()];
        const day = this.dueDate.getDate();
        let hour = this.dueDate.getHours();
        const minute = this.dueDate.getMinutes();

        const ampm = hour >= 12 ? 'pm' : 'am';
        hour = hour % 12;
        hour = hour ? hour : 12;

        const formattedDate = `${month} ${day}, ${year} at ${hour}:${minute}${ampm}`;
        return formattedDate;
      }
    }

    const addTaskForm = document.getElementById('add-task-form');
    addTaskForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const titleInput = document.getElementById('title');
      const descriptionInput = document.getElementById('description');
      const dueDateInput = document.getElementById('due-date');

      const title = titleInput.value;
      const description = descriptionInput.value;
      const dueDate = new Date(dueDateInput.value);

      const task = new Task(title, description, dueDate);

      let tasks = [];
      if (localStorage.getItem('tasks')) {
        tasks = JSON.parse(localStorage.getItem('tasks'));
      }
      tasks.push(task);
      localStorage.setItem('tasks', JSON.stringify(tasks));

      titleInput.value = '';
      descriptionInput.value = '';
      dueDateInput.value = '';

      alert('Task added successfully!');
    });
  </script>
</body>
</html>